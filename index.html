<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>China To Malayisa Cargo Service</title>

    <link rel="stylesheet" href="css/style.css">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

  </head>
  <body>

    <nav class="navbar navbar-expand-lg bg-info">
      <div class="container">
        <a class="navbar-brand text-white h1" href="#">
          <img style="height: 40%; width: 50%;" src="images/download.png" alt="">
        </a>
        <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbar-info" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-bar"></span>
          <span class="navbar-toggler-bar"></span>
          <span class="navbar-toggler-bar"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbar-info">
          <ul class="navbar-nav ml-auto">
            
            <li style="border-bottom: 5px solid rgb(233, 233, 233)
            ;" class="nav-item">
              <a class="nav-link text-white" href="#">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link text-white" href="Participent.html">Participent</a>
            </li>
            <li class="nav-item">
              <a class="nav-link text-white" href="approval.html">Approval</a>
            </li>
            <li class="nav-item">
              <a class="nav-link text-white" href="transferownership.html">Ownership</a>
            </li>
            <li class="nav-item">
              <a data-toggle="modal" data-target="#exampleModal" class="nav-link text-white btn btn-light text-info

              " href="#">Create Order</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>


    <div
    class="bg-image containerT"
    style="
      background-image: url('images/vidar-nordli-mathisen-y8TMoCzw87E-unsplash.jpg');
      height: 80vh;
      background-size: cover;
      background-repeat: no-repeat;
    "
  >

  <div class="input-group w-25 justify-content-center centered">
    <input type="search" class="form-control rounded" placeholder="Enter Order Id" aria-label="Search" aria-describedby="search-addon" />
    <button type="button" class="btn btn-primary">Track</button>
  </div>
</div>




<!-- <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal" data-whatever="@getbootstrap">Open modal for @getbootstrap</button> -->

<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Create New Shipping Order</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form>
          <div class="form-group">
            <label for="recipient-name" class="col-form-label">Enter Order Serial Number:</label>
            <input type="text" class="form-control" id="recipient-name">
          </div>
          <div class="form-group">
            <label for="recipient-name" class="col-form-label">Cost:</label>
            <input type="text" class="form-control" id="recipient-name">
          </div>
          <div class="form-group">
            <label for="recipient-name" class="col-form-label">Owner Id:</label>
            <input type="text" class="form-control" id="recipient-name">
          </div>
        
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary" data-dismiss="modal" data-toggle="modal" href="#ignismyModal" >Create Order</button>
      </div>
    </div>
  </div>
</div>


<!--Model Popup starts-->
<div class="container">
  <div class="row">
      <div class="modal fade" id="ignismyModal" role="dialog">
          <div class="modal-dialog">
              <div class="modal-content">
                  <div class="modal-header">
                      <button type="button" class="close" data-dismiss="modal" aria-label=""><span>×</span></button>
                   </div>
        
                  <div class="modal-body">
                     
          <div class="thank-you-pop">
            <img src="http://goactionstations.co.uk/wp-content/uploads/2017/03/Green-Round-Tick.png" alt="">
            <h1>Thank You!</h1>
            <p>A new Shipping Order Has been Created</p>
            <h3 class="cupon-pop">Order Id: <span>MYS1000217</span></h3>
            
           </div>
                       
                  </div>
        
              </div>
          </div>
      </div>
  </div>
</div>
<!--Model Popup ends-->


<section class="">
  <!-- Footer -->
  <footer class="text-center text-white" style="background-color: #0a4275;">
    <!-- Grid container -->
    <!-- Grid container -->

    <!-- Copyright -->
    <div class="text-center p-3" style="background-color: rgba(0, 0, 0, 0.2);">
      © 2022 Copyright:
      <a class="text-white" href="#">ChinaToMalayisaCargoService.com</a>
    </div>
    <!-- Copyright -->
  </footer>
  <!-- Footer -->
</section>


    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

    <script src="js/web3.min.js"></script>
    <script src="js/truffle-contract.js"></script>
    <script src="js/app.js"></script>

    <script>
      $('#exampleModal').on('show.bs.modal', function (event) {
    var button = $(event.relatedTarget) // Button that triggered the modal
    var recipient = button.data('whatever') // Extract info from data-* attributes
    // If necessary, you could initiate an AJAX request here (and then do the updating in a callback).
      });

      $(document).ready(function(){
          web3 = new web3(web3.currentProvider);
          var address = "0x5B38Da6a701c568545dCfcB03FcB875f56beddC4";
          var abi = [
	{
		"inputs": [
			{
				"internalType": "string",
				"name": "_name",
				"type": "string"
			},
			{
				"internalType": "string",
				"name": "_email",
				"type": "string"
			},
			{
				"internalType": "string",
				"name": "_participantType",
				"type": "string"
			},
			{
				"internalType": "address",
				"name": "_participantAddress",
				"type": "address"
			}
		],
		"name": "addNewParticipant",
		"outputs": [
			{
				"internalType": "uint32",
				"name": "",
				"type": "uint32"
			}
		],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "uint32",
				"name": "_orderID",
				"type": "uint32"
			},
			{
				"internalType": "string",
				"name": "_orderSerialNumber",
				"type": "string"
			},
			{
				"internalType": "bool",
				"name": "_value",
				"type": "bool"
			}
		],
		"name": "approvalFromCustomsChina",
		"outputs": [
			{
				"internalType": "uint32",
				"name": "",
				"type": "uint32"
			}
		],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "uint32",
				"name": "_orderID",
				"type": "uint32"
			},
			{
				"internalType": "string",
				"name": "_orderSerialNumber",
				"type": "string"
			},
			{
				"internalType": "bool",
				"name": "_value",
				"type": "bool"
			}
		],
		"name": "approvalFromCustomsMY",
		"outputs": [
			{
				"internalType": "uint32",
				"name": "",
				"type": "uint32"
			}
		],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "string",
				"name": "_orderSerialNumber",
				"type": "string"
			},
			{
				"internalType": "uint32",
				"name": "_cost",
				"type": "uint32"
			},
			{
				"internalType": "uint32",
				"name": "_ownerId",
				"type": "uint32"
			}
		],
		"name": "createOrder",
		"outputs": [
			{
				"internalType": "uint32",
				"name": "_o",
				"type": "uint32"
			}
		],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": false,
				"internalType": "uint32",
				"name": "order_ID",
				"type": "uint32"
			}
		],
		"name": "TransferOwnership",
		"type": "event"
	},
	{
		"inputs": [
			{
				"internalType": "uint32",
				"name": "_participantID1",
				"type": "uint32"
			},
			{
				"internalType": "uint32",
				"name": "_participantID2",
				"type": "uint32"
			},
			{
				"internalType": "uint32",
				"name": "_order_ID",
				"type": "uint32"
			}
		],
		"name": "TransferOwnershipToNewOwner",
		"outputs": [
			{
				"internalType": "bool",
				"name": "",
				"type": "bool"
			}
		],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "approvalIdfromChina",
		"outputs": [
			{
				"internalType": "uint32",
				"name": "",
				"type": "uint32"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "approvalIdfromMY",
		"outputs": [
			{
				"internalType": "uint32",
				"name": "",
				"type": "uint32"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "uint32",
				"name": "",
				"type": "uint32"
			}
		],
		"name": "approveOrders",
		"outputs": [
			{
				"internalType": "string",
				"name": "approvedOrderSerialNumber",
				"type": "string"
			},
			{
				"internalType": "bool",
				"name": "approvalFromCustoms",
				"type": "bool"
			},
			{
				"internalType": "address",
				"name": "currentOwner",
				"type": "address"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "uint32",
				"name": "_orderID",
				"type": "uint32"
			}
		],
		"name": "getCurrentOwner",
		"outputs": [
			{
				"internalType": "uint32",
				"name": "",
				"type": "uint32"
			},
			{
				"internalType": "uint32",
				"name": "",
				"type": "uint32"
			},
			{
				"internalType": "uint32",
				"name": "",
				"type": "uint32"
			},
			{
				"internalType": "address",
				"name": "",
				"type": "address"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "uint32",
				"name": "_orderID",
				"type": "uint32"
			}
		],
		"name": "getOrder",
		"outputs": [
			{
				"internalType": "string",
				"name": "",
				"type": "string"
			},
			{
				"internalType": "uint32",
				"name": "",
				"type": "uint32"
			},
			{
				"internalType": "uint32",
				"name": "",
				"type": "uint32"
			},
			{
				"internalType": "address",
				"name": "",
				"type": "address"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "uint32",
				"name": "_participantID",
				"type": "uint32"
			}
		],
		"name": "getParticipant",
		"outputs": [
			{
				"internalType": "string",
				"name": "",
				"type": "string"
			},
			{
				"internalType": "string",
				"name": "",
				"type": "string"
			},
			{
				"internalType": "string",
				"name": "",
				"type": "string"
			},
			{
				"internalType": "address",
				"name": "",
				"type": "address"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "uint32",
				"name": "_participantID1",
				"type": "uint32"
			},
			{
				"internalType": "uint32",
				"name": "_orderID",
				"type": "uint32"
			}
		],
		"name": "initiatesPayment",
		"outputs": [
			{
				"internalType": "bool",
				"name": "_v",
				"type": "bool"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "bool",
				"name": "_value",
				"type": "bool"
			}
		],
		"name": "IoTSensorLocationTrack",
		"outputs": [
			{
				"internalType": "bool",
				"name": "",
				"type": "bool"
			}
		],
		"stateMutability": "pure",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "orderID",
		"outputs": [
			{
				"internalType": "uint32",
				"name": "",
				"type": "uint32"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "uint32",
				"name": "",
				"type": "uint32"
			}
		],
		"name": "orders",
		"outputs": [
			{
				"internalType": "string",
				"name": "orderSerialNumber",
				"type": "string"
			},
			{
				"internalType": "uint32",
				"name": "cost",
				"type": "uint32"
			},
			{
				"internalType": "uint32",
				"name": "TimeStamp",
				"type": "uint32"
			},
			{
				"internalType": "address",
				"name": "orderOwner",
				"type": "address"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "ownerID",
		"outputs": [
			{
				"internalType": "uint32",
				"name": "",
				"type": "uint32"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "uint32",
				"name": "",
				"type": "uint32"
			}
		],
		"name": "ownerships",
		"outputs": [
			{
				"internalType": "uint32",
				"name": "order_ID",
				"type": "uint32"
			},
			{
				"internalType": "uint32",
				"name": "owner_Id",
				"type": "uint32"
			},
			{
				"internalType": "uint32",
				"name": "TimeStamp",
				"type": "uint32"
			},
			{
				"internalType": "address",
				"name": "order_Owner",
				"type": "address"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "participantID",
		"outputs": [
			{
				"internalType": "uint32",
				"name": "",
				"type": "uint32"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "uint32",
				"name": "",
				"type": "uint32"
			}
		],
		"name": "participants",
		"outputs": [
			{
				"internalType": "string",
				"name": "name",
				"type": "string"
			},
			{
				"internalType": "string",
				"name": "email",
				"type": "string"
			},
			{
				"internalType": "string",
				"name": "participantType",
				"type": "string"
			},
			{
				"internalType": "address",
				"name": "participantAddress",
				"type": "address"
			}
		],
		"stateMutability": "view",
		"type": "function"
	}
];
          contract = new web3.eth.Contract(abi, address);

          contract.method.getParticipant().call.then(function(participent){
              $('Participent').html(participent);
          })
      })

    </script>


  </body>
</html>